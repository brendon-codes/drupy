<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>base.includes.database_mysqli</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="base-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="base-module.html">Package&nbsp;base</a> ::
        <a href="base.includes-module.html">Package&nbsp;includes</a> ::
        Module&nbsp;database_mysqli
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="base.includes.database_mysqli-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module database_mysqli</h1><p class="nomargin-top"><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html">source&nbsp;code</a></span></p>
<pre class="literalblock">

@package Drupy
@see http://drupy.net
@note Drupy is a port of the Drupal project.
 The drupal project can be found at http://drupal.org
@file database_mysqli.py (ported from Drupal's database.mysqli.inc)
 Database interface code for MySQL database servers using the mysqli client
 libraries. mysqli is included in PHP 5 by default and allows developers to
 use the advanced features of MySQL 4.1.x, 5.0.x and beyond.
@author Brendon Crawford
@copyright 2008 Brendon Crawford
@contact message144 at users dot sourceforge dot net
@created 2008-01-10
@version 0.1
@license: 

 This program is free software; you can redistribute it and/or
 modify it under the terms of the GNU General Public License
 as published by the Free Software Foundation; either version 2
 of the License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program; if not, write to the Free Software
 Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

</pre>

<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="db_status_report"></a><span class="summary-sig-name">db_status_report</span>(<span class="summary-sig-arg">phase</span>)</span><br />
      Report database status.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_status_report">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_version" class="summary-sig-name">db_version</a>()</span><br />
      Returns the version of the database server currently in use.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_version">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_connect" class="summary-sig-name">db_connect</a>(<span class="summary-sig-arg">url</span>)</span><br />
      Initialise a database connection.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_connect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_db_query"></a><span class="summary-sig-name">_db_query</span>(<span class="summary-sig-arg">query</span>,
        <span class="summary-sig-arg">debug</span>=<span class="summary-sig-default">0</span>)</span><br />
      Helper function for db_query().</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#_db_query">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_fetch_object" class="summary-sig-name">db_fetch_object</a>(<span class="summary-sig-arg">result</span>)</span><br />
      Fetch one result row from the previous query as an object.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_fetch_object">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_fetch_array" class="summary-sig-name">db_fetch_array</a>(<span class="summary-sig-arg">result</span>)</span><br />
      Fetch one result row from the previous query as an array.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_fetch_array">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_result" class="summary-sig-name">db_result</a>(<span class="summary-sig-arg">result</span>)</span><br />
      Return an individual result field from the previous query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_result">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="db_error"></a><span class="summary-sig-name">db_error</span>()</span><br />
      Determine whether the previous query caused an error.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_error">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="db_affected_rows"></a><span class="summary-sig-name">db_affected_rows</span>()</span><br />
      Determine the number of rows changed by the preceding query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_affected_rows">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_query_range" class="summary-sig-name">db_query_range</a>(<span class="summary-sig-arg">query</span>)</span><br />
      Runs a limited-range query in the active database.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_query_range">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_query_temporary" class="summary-sig-name">db_query_temporary</a>(<span class="summary-sig-arg">query</span>)</span><br />
      Runs a SELECT query and stores its results in a temporary table.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_query_temporary">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_encode_blob" class="summary-sig-name">db_encode_blob</a>(<span class="summary-sig-arg">data</span>)</span><br />
      Returns a properly formatted Binary Large Object value.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_encode_blob">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_decode_blob" class="summary-sig-name">db_decode_blob</a>(<span class="summary-sig-arg">data</span>)</span><br />
      Returns text from a Binary Large OBject value.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_decode_blob">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="db_lock_table"></a><span class="summary-sig-name">db_lock_table</span>(<span class="summary-sig-arg">table</span>)</span><br />
      Lock a table.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_lock_table">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="db_unlock_tables"></a><span class="summary-sig-name">db_unlock_tables</span>()</span><br />
      Unlock all locked tables.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_unlock_tables">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="db_table_exists"></a><span class="summary-sig-name">db_table_exists</span>(<span class="summary-sig-arg">table</span>)</span><br />
      Check if a table exists.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_table_exists">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="db_column_exists"></a><span class="summary-sig-name">db_column_exists</span>(<span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">column</span>)</span><br />
      Check if a column exists in the given table.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_column_exists">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_distinct_field" class="summary-sig-name">db_distinct_field</a>(<span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">field</span>,
        <span class="summary-sig-arg">query</span>)</span><br />
      Wraps the given table.field entry with a DISTINCT().</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_distinct_field">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_query" class="summary-sig-name">db_query</a>(<span class="summary-sig-arg">query</span>,
        <span class="summary-sig-arg">*args</span>)</span><br />
      Runs a basic query in the active database.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_query">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_create_table_sql" class="summary-sig-name">db_create_table_sql</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">table</span>)</span><br />
      Generate SQL to create a new table from a Drupal schema definition.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_create_table_sql">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_db_create_keys_sql"></a><span class="summary-sig-name">_db_create_keys_sql</span>(<span class="summary-sig-arg">spec</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#_db_create_keys_sql">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_db_create_key_sql"></a><span class="summary-sig-name">_db_create_key_sql</span>(<span class="summary-sig-arg">fields</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#_db_create_key_sql">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#_db_process_field" class="summary-sig-name" onclick="show_private();">_db_process_field</a>(<span class="summary-sig-arg">field</span>)</span><br />
      Set database-engine specific properties for a field.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#_db_process_field">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#_db_create_field_sql" class="summary-sig-name" onclick="show_private();">_db_create_field_sql</a>(<span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">spec</span>)</span><br />
      Create an SQL string for a field to be used in table creation or alteration.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#_db_create_field_sql">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="db_type_map"></a><span class="summary-sig-name">db_type_map</span>()</span><br />
      This maps a generic data type in combination with its data size to 
      the engine-specific data type.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_type_map">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_rename_table" class="summary-sig-name">db_rename_table</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">new_name</span>)</span><br />
      Rename a table.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_rename_table">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_drop_table" class="summary-sig-name">db_drop_table</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>)</span><br />
      Drop a table.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_table">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_add_field" class="summary-sig-name">db_add_field</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">field</span>,
        <span class="summary-sig-arg">spec</span>,
        <span class="summary-sig-arg">keys_new</span>=<span class="summary-sig-default">[]</span>)</span><br />
      Add a new field to a table.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_add_field">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_drop_field" class="summary-sig-name">db_drop_field</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">field</span>)</span><br />
      Drop a field.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_field">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_field_set_default" class="summary-sig-name">db_field_set_default</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">field</span>,
        <span class="summary-sig-arg">default</span>)</span><br />
      Set the default value for a field.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_field_set_default">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_field_set_no_default" class="summary-sig-name">db_field_set_no_default</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">field</span>)</span><br />
      Set a field to have no default value.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_field_set_no_default">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_add_primary_key" class="summary-sig-name">db_add_primary_key</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">fields</span>)</span><br />
      Add a primary key.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_add_primary_key">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_drop_primary_key" class="summary-sig-name">db_drop_primary_key</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>)</span><br />
      Drop the primary key.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_primary_key">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_add_unique_key" class="summary-sig-name">db_add_unique_key</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">fields</span>)</span><br />
      Add a unique key.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_add_unique_key">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_drop_unique_key" class="summary-sig-name">db_drop_unique_key</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Drop a unique key.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_unique_key">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_add_index" class="summary-sig-name">db_add_index</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">name</span>,
        <span class="summary-sig-arg">fields</span>)</span><br />
      Add an index.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_add_index">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_drop_index" class="summary-sig-name">db_drop_index</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Drop an index.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_index">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_change_field" class="summary-sig-name">db_change_field</a>(<span class="summary-sig-arg">ret</span>,
        <span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">field</span>,
        <span class="summary-sig-arg">field_new</span>,
        <span class="summary-sig-arg">spec</span>,
        <span class="summary-sig-arg">keys_new</span>=<span class="summary-sig-default">[]</span>)</span><br />
      Change a field definition.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_change_field">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_last_insert_id" class="summary-sig-name">db_last_insert_id</a>(<span class="summary-sig-arg">table</span>,
        <span class="summary-sig-arg">field</span>)</span><br />
      Returns the last insert id.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_last_insert_id">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="db_escape_string"></a><span class="summary-sig-name">db_escape_string</span>(<span class="summary-sig-arg">data</span>)</span><br />
      Wrapper to escape a string</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_escape_string">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="base.includes.database_mysqli-module.html#db_fetch_assoc" class="summary-sig-name">db_fetch_assoc</a>(<span class="summary-sig-arg">result</span>)</span><br />
      Fetch one result row from the previous query as an array.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_fetch_array">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="db_version"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_version</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_version">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns the version of the database server currently in use.</p>
  <p>@return Database server version</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_connect"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_connect</span>(<span class="sig-arg">url</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_connect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Initialise a database connection.</p>
  <p>Note that mysqli does not support persistent connections.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_fetch_object"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_fetch_object</span>(<span class="sig-arg">result</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_fetch_object">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Fetch one result row from the previous query as an object.

@param result
  A database query result resource, as returned from db_query().
@return
  An object representing the next row of the result, or False. The attributes
  of this object are the table fields selected by the query.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_fetch_array"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_fetch_array</span>(<span class="sig-arg">result</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_fetch_array">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Fetch one result row from the previous query as an array.

@param result
  A database query result resource, as returned from db_query().
@return
  An associative array representing the next row of the result, or False.
  The keys of this object are the names of the table fields selected by the
  query, and the values are the field values for this result row.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_result"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_result</span>(<span class="sig-arg">result</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_result">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Return an individual result field from the previous query.

Only use this function if exactly one field is being selected; otherwise,
use db_fetch_object() or db_fetch_array().

@param result
  A database query result resource, as returned from db_query().
@return
  The resulting field or False.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_query_range"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_query_range</span>(<span class="sig-arg">query</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_query_range">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Runs a limited-range query in the active database.

Use this as a substitute for db_query() when a subset of the query is to be
returned.
User-supplied arguments to the query should be passed in as separate parameters
so that they can be properly escaped to avoid SQL injection attacks.

@param query
  A string containing an SQL query.
@param ...
  A variable number of arguments which are substituted into the query
  using printf() syntax. The query arguments can be enclosed in one
  array instead.
  Valid %-modifiers are: %s, %d, %f, %b (binary data, do not enclose
  in '') and %%.
  NOTE: using this syntax will cast None and False values to decimal 0,
  and True values to decimal 1.
@param from
  The first result row to return.
@param count
  The maximum number of result rows to return.
@return
  A database query result resource, or False if the query was not executed
  correctly.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_query_temporary"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_query_temporary</span>(<span class="sig-arg">query</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_query_temporary">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Runs a SELECT query and stores its results in a temporary table.

Use this as a substitute for db_query() when the results need to stored
in a temporary table. Temporary tables exist for the duration of the page
request.
User-supplied arguments to the query should be passed in as separate parameters
so that they can be properly escaped to avoid SQL injection attacks.

Note that if you need to know how many results were returned, you should do
a SELECT COUNT(*) on the temporary table afterwards. db_affected_rows() does
not give consistent result across different database types in this case.

@param query
  A string containing a normal SELECT SQL query.
@param ...
  A variable number of arguments which are substituted into the query
  using printf() syntax. The query arguments can be enclosed in one
  array instead.
  Valid %-modifiers are: %s, %d, %f, %b (binary data, do not enclose
  in '') and %%.

  NOTE: using this syntax will cast None and False values to decimal 0,
  and True values to decimal 1.

@param table
  The name of the temporary table to select into. This name will not be
  prefixed as there is no risk of collision.
@return
  A database query result resource, or False if the query was not executed
  correctly.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_encode_blob"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_encode_blob</span>(<span class="sig-arg">data</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_encode_blob">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Returns a properly formatted Binary Large Object value.

@param data
  Data to encode.
@return
 Encoded data.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_decode_blob"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_decode_blob</span>(<span class="sig-arg">data</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_decode_blob">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Returns text from a Binary Large OBject value.

@param data
  Data to decode.
@return
 Decoded data.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_distinct_field"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_distinct_field</span>(<span class="sig-arg">table</span>,
        <span class="sig-arg">field</span>,
        <span class="sig-arg">query</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_distinct_field">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Wraps the given table.field entry with a DISTINCT(). The wrapper is 
  added to the SELECT list entry of the given query and the resulting query
  is returned. This function only applies the wrapper if a DISTINCT doesn't
  already exist in the query.</p>
  <p>@param table Table containing the field to set as DISTINCT @param 
  field Field to set as DISTINCT @param query Query to apply the wrapper to
  @return SQL query with the DISTINCT wrapper surrounding the given 
  table.field.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_query"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_query</span>(<span class="sig-arg">query</span>,
        <span class="sig-arg">*args</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_query">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Runs a basic query in the active database.

User-supplied arguments to the query should be passed in as separate
parameters so that they can be properly escaped to avoid SQL injection
attacks.

@param query
  A string containing an SQL query.
@param ...
  A variable number of arguments which are substituted into the query
  using printf() syntax. Instead of a variable number of query arguments,
  you may also pass a single array containing the query arguments.

  Valid %-modifiers are: %s, %d, %f, %b (binary data, do not enclose
  in '') and %%.

  NOTE: using this syntax will cast None and False values to decimal 0,
 and True values to decimal 1.

@return
  A database query result resource, or False if the query was not
  executed correctly.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_create_table_sql"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_create_table_sql</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">table</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_create_table_sql">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Generate SQL to create a new table from a Drupal schema definition.

@param name
  The name of the table to create.
@param table
  A Schema API table definition array.
@return
  An array of SQL statements to create the table.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_db_process_field"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_db_process_field</span>(<span class="sig-arg">field</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#_db_process_field">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Set database-engine specific properties for a field.

@param field
  A field description array, as specified in the schema documentation.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="_db_create_field_sql"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_db_create_field_sql</span>(<span class="sig-arg">name</span>,
        <span class="sig-arg">spec</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#_db_create_field_sql">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Create an SQL string for a field to be used in table creation or alteration.

Before passing a field out of a schema definition into this function it has
to be processed by _db_process_field().

@param name
   Name of the field.
@param spec
   The field specification, as per the schema data structure format.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_rename_table"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_rename_table</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">new_name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_rename_table">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Rename a table.

@param ret
  Array to which query results will be added.
@param table
  The table to be renamed.
@param new_name
  The new name for the table.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_drop_table"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_drop_table</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_table">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Drop a table.

@param ret
  Array to which query results will be added.
@param table
  The table to be dropped.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_add_field"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_add_field</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">field</span>,
        <span class="sig-arg">spec</span>,
        <span class="sig-arg">keys_new</span>=<span class="sig-default">[]</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_add_field">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Add a new field to a table.

@param ret
  Array to which query results will be added.
@param table
  Name of the table to be altered.
@param field
  Name of the field to be added.
@param spec
  The field specification array, as taken from a schema definition.
  The specification may also contain the key 'initial', the newly
  created field will be set to the value of the key in all rows.
  This is most useful for creating NOT None columns with no default
  value in existing tables.
@param keys_new
  Optional keys and indexes specification to be created on the
  table along with adding the field. The format is the same as a
  table specification but without the 'fields' element.  If you are
  adding a type 'serial' field, you MUST specify at least one key
  or index including it in this array. @see db_change_field for more
  explanation why.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_drop_field"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_drop_field</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">field</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_field">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Drop a field.

@param ret
  Array to which query results will be added.
@param table
  The table to be altered.
@param field
  The field to be dropped.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_field_set_default"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_field_set_default</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">field</span>,
        <span class="sig-arg">default</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_field_set_default">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Set the default value for a field.

@param ret
  Array to which query results will be added.
@param table
  The table to be altered.
@param field
  The field to be altered.
@param default
  Default value to be set. None for 'default None'.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_field_set_no_default"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_field_set_no_default</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">field</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_field_set_no_default">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Set a field to have no default value.

@param ret
  Array to which query results will be added.
@param table
  The table to be altered.
@param field
  The field to be altered.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_add_primary_key"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_add_primary_key</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">fields</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_add_primary_key">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Add a primary key.

@param ret
  Array to which query results will be added.
@param table
  The table to be altered.
@param fields
  Fields for the primary key.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_drop_primary_key"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_drop_primary_key</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_primary_key">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Drop the primary key.

@param ret
  Array to which query results will be added.
@param table
  The table to be altered.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_add_unique_key"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_add_unique_key</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">name</span>,
        <span class="sig-arg">fields</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_add_unique_key">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Add a unique key.

@param ret
  Array to which query results will be added.
@param table
  The table to be altered.
@param name
  The name of the key.
@param fields
  An array of field names.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_drop_unique_key"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_drop_unique_key</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_unique_key">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Drop a unique key.

@param ret
  Array to which query results will be added.
@param table
  The table to be altered.
@param name
  The name of the key.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_add_index"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_add_index</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">name</span>,
        <span class="sig-arg">fields</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_add_index">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Add an index.

@param ret
  Array to which query results will be added.
@param table
  The table to be altered.
@param name
  The name of the index.
@param fields
  An array of field names.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_drop_index"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_drop_index</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_drop_index">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Drop an index.

@param ret
  Array to which query results will be added.
@param table
  The table to be altered.
@param name
  The name of the index.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_change_field"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_change_field</span>(<span class="sig-arg">ret</span>,
        <span class="sig-arg">table</span>,
        <span class="sig-arg">field</span>,
        <span class="sig-arg">field_new</span>,
        <span class="sig-arg">spec</span>,
        <span class="sig-arg">keys_new</span>=<span class="sig-default">[]</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_change_field">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Change a field definition.

IMPORTANT NOTE: To maintain database portability, you have to explicitly
recreate all indices and primary keys that are using the changed field.

That means that you have to drop all affected keys and indexes with
db_drop_{primary_key,unique_key,index}() before calling db_change_field().
To recreate the keys and indices, pass the key definitions as the
optional keys_new argument directly to db_change_field().

For example, suppose you have:
@code
schema['foo'] = array(
  'fields' : array(
    'bar' : array('type' : 'int', 'not None' : True)
  ),
  'primary key' : array('bar')
)
@endcode
and you want to change foo.bar to be type serial, leaving it as the
primary key.  The correct sequence is:
@code
db_drop_primary_key(ret, 'foo')
db_change_field(ret, 'foo', 'bar', 'bar',
  array('type' : 'serial', 'not None' : True),
  array('primary key' : array('bar')))
@endcode

The reasons for this are due to the different database engines:

On PostgreSQL, changing a field definition involves adding a new field
and dropping an old one which* causes any indices, primary keys and
sequences (from serial-type fields) that use the changed field to be dropped.

On MySQL, all type 'serial' fields must be part of at least one key
or index as soon as they are created.  You cannot use
db_add_{primary_key,unique_key,index}() for this purpose because
the ALTER TABLE command will fail to add the column without a key
or index specification.  The solution is to use the optional
keys_new argument to create the key or index at the same time as
field.

You could use db_add_{primary_key,unique_key,index}() in all cases
unless you are converting a field to be type serial. You can use
the keys_new argument in all cases.

@param ret
  Array to which query results will be added.
@param table
  Name of the table.
@param field
  Name of the field to change.
@param field_new
  New name for the field (set to the same as field if you don't want to change the name).
@param spec
  The field specification for the new field.
@param keys_new
  Optional keys and indexes specification to be created on the
  table along with changing the field. The format is the same as a
  table specification but without the 'fields' element.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_last_insert_id"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_last_insert_id</span>(<span class="sig-arg">table</span>,
        <span class="sig-arg">field</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_last_insert_id">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Returns the last insert id.

@param table
  The name of the table you inserted into.
@param field
  The name of the autoincrement field.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="db_fetch_assoc"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">db_fetch_assoc</span>(<span class="sig-arg">result</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="base.includes.database_mysqli-pysrc.html#db_fetch_array">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Fetch one result row from the previous query as an array.

@param result
  A database query result resource, as returned from db_query().
@return
  An associative array representing the next row of the result, or False.
  The keys of this object are the names of the table fields selected by the
  query, and the values are the field values for this result row.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="base-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Jun 27 15:00:06 2008
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
